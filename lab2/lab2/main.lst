Microsoft (R) Macro Assembler Version 14.39.33523.0	    10/21/24 10:32:46
main.asm						     Page 1 - 1


				.686
				.model flat
				extern _ExitProcess@4 : PROC
				extern __write : PROC
				extern __read : PROC
				public _main

 00000000			.data
 00000000 50 52 41 43 41	slowo db 'PRACA'
 00000005 0A 50 69 65 72	tekst_output db 10,'Pierwsze slowo: PRACA',10
	   77 73 7A 65 20
	   73 6C 6F 77 6F
	   3A 20 50 52 41
	   43 41 0A
 0000001C 00			koniec_tekstu db ?
 0000001D  00000006 [		magazyn db 6 dup (?)
	    00
	   ]
 00000023 00000000		liczba_znakow dd ?
 00000027 00000000		roznice_liter dd 0
 0000002B 30 0A 00		digit_msg db '0', 10, 0              

 00000000			.code
 00000000			_main proc
				    ; liczba znakow tekstu
 00000000  B9 00000017		    mov ecx, (OFFSET koniec_tekstu) - (OFFSET tekst_output)
				    
				    ; tekst output
 00000005  51			    push ecx
 00000006  68 00000005 R	    push OFFSET tekst_output
 0000000B  6A 01		    push 1
 0000000D  E8 00000000 E	    call __write
 00000012  83 C4 0C		    add esp, 12
 00000015			jeszcze_raz:
				    ; tekst input
 00000015  6A 06		    push 6
 00000017  68 0000001D R	    push OFFSET magazyn
 0000001C  6A 00		    push 0
 0000001E  E8 00000000 E	    call __read
 00000023  83 C4 0C		    add esp, 12

 00000026  A3 00000023 R	    mov liczba_znakow, eax

 0000002B  8B C8		    mov ecx, eax
 0000002D  BB 00000000		    mov ebx, 0 ; indeks pocz¹tkowy inputu
 00000032  BF 00000000		    mov edi, 0;indeks poczatkowy slowa
 00000037  BA 00000000		    mov edx, 0;eax-liczenie ile liter sie rozni
 0000003C  B0 00		    mov al, 0;-przepisywanie liter slowa

 0000003E			ptl: 
 0000003E  8A 87 00000000 R	    mov al, slowo[edi]
 00000044  3A 83 0000001D R	    cmp al, magazyn[ebx]
 0000004A  74 01		     je dalej
 0000004C  42			     inc edx
 0000004D  43			    dalej: inc ebx ; inkrementacja indeksu
 0000004E  47			            inc edi;
 0000004F  E2 ED		 loop ptl ; sterowanie pêtl¹

 00000051  80 C2 30		    add dl, 30H
 00000054  88 15 0000002B R	    mov digit_msg, dl
 0000005A  C6 05 0000002C R	    mov BYTE PTR [digit_msg + 1], 0Ah ;enter
	   0A

 00000061  6A 02		 push 2
 00000063  68 0000002B R	 push OFFSET digit_msg
 00000068  6A 01		 push 1
 0000006A  E8 00000000 E	 call __write ; wyœwietlenie przekszta³conego
 0000006F  83 C4 0C		 add esp, 12 ; usuniecie parametrów ze stosu


 00000072  BE 0000001D R	 mov esi, OFFSET magazyn   ; WskaŸnik na magazyn (Ÿród³o)
 00000077  BF 00000000 R	    mov edi, OFFSET slowo     ; WskaŸnik na slowo (cel)
 0000007C  B9 00000005		    mov ecx, 5                ; Liczba bajtów do skopiowania (5 liter)

 00000081			kopiuj:
 00000081  8A 06		    mov al, [esi]             ; Pobierz bajt z magazyn
 00000083  88 07		    mov [edi], al             ; Zapisz bajt do slowo
 00000085  46			    inc esi                   ; PrzejdŸ do kolejnego bajtu w magazyn
 00000086  47			    inc edi                   ; PrzejdŸ do kolejnego bajtu w slowo
 00000087  E2 F8		    loop kopiuj               ; Powtarzaj a¿ ecx == 0

 00000089  EB 8A		 jmp jeszcze_raz

				    ; zakonczenie programu
 0000008B  6A 00		    push 0
 0000008D  E8 00000000 E	    call _ExitProcess@4

 00000092			_main endp
				END
Microsoft (R) Macro Assembler Version 14.39.33523.0	    10/21/24 10:32:46
main.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

FLAT . . . . . . . . . . . . . .	GROUP
_DATA  . . . . . . . . . . . . .	32 Bit	 0000002E Para	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . .	32 Bit	 00000092 Para	  Public  'CODE'	


Procedures, parameters, and locals:

                N a m e                 Type     Value    Attr

_main  . . . . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 00000092 Public
  jeszcze_raz  . . . . . . . . .	L Near	 00000015 _TEXT	
  ptl  . . . . . . . . . . . . .	L Near	 0000003E _TEXT	
  dalej  . . . . . . . . . . . .	L Near	 0000004D _TEXT	
  kopiuj . . . . . . . . . . . .	L Near	 00000081 _TEXT	


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . .	Number	 00000000h   
@Model . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . .	Text   	 FLAT
_ExitProcess@4 . . . . . . . . .	L Near	 00000000 FLAT	External
__read . . . . . . . . . . . . .	L Near	 00000000 FLAT	External
__write  . . . . . . . . . . . .	L Near	 00000000 FLAT	External
digit_msg  . . . . . . . . . . .	Byte	 0000002B _DATA	
koniec_tekstu  . . . . . . . . .	Byte	 0000001C _DATA	
liczba_znakow  . . . . . . . . .	DWord	 00000023 _DATA	
magazyn  . . . . . . . . . . . .	Byte	 0000001D _DATA	
roznice_liter  . . . . . . . . .	DWord	 00000027 _DATA	
slowo  . . . . . . . . . . . . .	Byte	 00000000 _DATA	
tekst_output . . . . . . . . . .	Byte	 00000005 _DATA	

	   0 Warnings
	   0 Errors
